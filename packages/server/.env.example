# Obsidian Sync Server - Environment Configuration
# Copy this file to .env and fill in your values

# ==========================================
# DRIVE SERVICE CONFIGURATION
# ==========================================

# Choose storage backend: "local" or "google"
# - local: Files stored in local filesystem (development/testing)
# - google: Files stored in Google Drive (recommended for production)
DRIVE_TYPE=local

# ==========================================
# LOCAL STORAGE (if DRIVE_TYPE=local)
# ==========================================

# Path where files will be stored locally
# Note: This is only used when DRIVE_TYPE=local
LOCAL_STORAGE_PATH=./local-storage

# ==========================================
# GOOGLE DRIVE OAUTH2 (if DRIVE_TYPE=google)
# ==========================================

# Get these credentials from Google Cloud Console:
#
# Setup Instructions:
# 1. Go to https://console.cloud.google.com
# 2. Create a new project or select existing one
# 3. Enable "Google Drive API" for your project
# 4. Go to "APIs & Services" → "Credentials"
# 5. Click "Create Credentials" → "OAuth 2.0 Client ID"
# 6. Choose "Web application" as application type
# 7. Add authorized redirect URIs (see below)
# 8. Copy the generated Client ID and Client Secret

# Your OAuth 2.0 Client ID from Google Cloud Console
GOOGLE_CLIENT_ID=your_client_id_here.apps.googleusercontent.com

# Your OAuth 2.0 Client Secret from Google Cloud Console
GOOGLE_CLIENT_SECRET=your_client_secret_here

# OAuth Redirect URI (OPTIONAL - auto-detected if not set)
#
# The redirect URI is automatically detected from the incoming request.
# You only need to set this if you want to force a specific URI.
#
# For Development (auto-detected):
#   http://localhost:3000/auth/google/callback
#
# For Production (set explicitly):
#   https://your-domain.com/auth/google/callback
#
# IMPORTANT: Add ALL redirect URIs to Google Cloud Console:
# - Development: http://localhost:3000/auth/google/callback
# - Production: https://your-domain.com/auth/google/callback
#
# Leave commented for auto-detection (recommended for most cases)
# GOOGLE_REDIRECT_URI=http://localhost:3000/auth/google/callback

# ==========================================
# SERVER CONFIGURATION
# ==========================================

# Server port (default: 3000)
# PORT=3000

# Server host (default: 0.0.0.0 - accepts all connections)
# HOST=0.0.0.0

# ==========================================
# OPTIONAL SETTINGS
# ==========================================

# Enable debug logging (shows detailed request/response logs)
# DEBUG=true

# CORS configuration (comma-separated list of allowed origins)
# Default: allows all origins (*)
# For production, restrict to specific domains:
# CORS_ORIGINS=https://your-domain.com,app://obsidian.md

# ==========================================
# DEPLOYMENT NOTES
# ==========================================
#
# Local Development:
#   DRIVE_TYPE=local
#   (No OAuth needed, files stored locally)
#
# Production with Google Drive:
#   DRIVE_TYPE=google
#   GOOGLE_CLIENT_ID=xxx
#   GOOGLE_CLIENT_SECRET=xxx
#   (GOOGLE_REDIRECT_URI is auto-detected)
#
# Multiple Environments:
#   Add all redirect URIs to Google Cloud Console:
#   - http://localhost:3000/auth/google/callback
#   - https://staging.domain.com/auth/google/callback
#   - https://domain.com/auth/google/callback
